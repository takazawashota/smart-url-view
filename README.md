# Smart URL View

WordPressの投稿、固定ページ、カスタム投稿タイプ内の外部URLを自動的にブログカードに変換するプラグインです。

## 機能

- 📝 投稿・固定ページ・カスタム投稿タイプに対応
- 🎨 美しいブログカードデザイン
- 🖼️ Open Graphデータを自動取得（タイトル、説明文、画像）
- ⚡ 24時間のキャッシュ機能で高速表示
- 📱 レスポンシブデザイン対応
- 🌙 ダークモード対応
- 🔒 自サイトのURLは除外

## インストール方法

### 方法1: 手動インストール

1. `smart-url-view`フォルダをWordPressの`/wp-content/plugins/`ディレクトリにアップロードします
2. WordPressの管理画面から「プラグイン」メニューを開きます
3. 「Smart URL View」を見つけて「有効化」をクリックします

### 方法2: ZIPファイルからインストール

1. プラグインファイルをZIP形式で圧縮します
2. WordPressの管理画面から「プラグイン」→「新規追加」を選択します
3. 「プラグインのアップロード」をクリックします
4. ZIPファイルを選択してアップロードし、有効化します

## 使い方

プラグインを有効化すると、投稿や固定ページ内の**独立した行に記載された外部URL**が自動的にブログカードに変換されます。

### 例

```
これは通常のテキストです。

https://example.com

上記のURLがブログカードとして表示されます。
```

### 注意点

- URLは独立した行に記載してください
- 自サイトのURLは変換されません
- 本文中のリンク（`<a>`タグ）は変換されません

## 変換されるURL

✅ 独立した行のURL:
```
https://example.com
```

❌ 変換されないURL:
```
テキストの中に https://example.com が含まれている場合
<a href="https://example.com">リンクテキスト</a>
```

## 技術仕様

- **キャッシュ**: Open Graphデータは24時間キャッシュされます
- **Open Graph**: サイトのメタデータを自動取得
- **フォールバック**: Open Graphデータがない場合はシンプルカードを表示
- **パフォーマンス**: トランジェントAPIを使用した効率的なキャッシング

## カスタマイズ

### CSSのカスタマイズ

ブログカードのデザインをカスタマイズする場合は、テーマのCSSファイルに以下のクラスを上書きしてください：

- `.smart-url-view-card` - カード全体
- `.smart-url-view-thumbnail` - サムネイル画像
- `.smart-url-view-content` - テキストコンテンツ
- `.smart-url-view-title` - タイトル
- `.smart-url-view-description` - 説明文
- `.smart-url-view-site` - サイト名

### キャッシュのクリア

キャッシュをクリアする場合は、プラグインを一度無効化して再度有効化してください。

## 必要環境

- WordPress 5.0以上
- PHP 7.0以上
- cURL拡張モジュール

## ライセンス

GPL2

## クレジット

- Open Graphパーサーは [scottmac/opengraph](https://github.com/scottmac/opengraph) を使用しています

## サポート

問題が発生した場合は、以下を確認してください：

1. PHPのcURL拡張が有効になっているか
2. 外部サイトへのHTTPリクエストが許可されているか
3. WordPressのデバッグモードを有効にしてエラーログを確認

## 更新履歴

### 1.0.0
- 初回リリース
- 基本的なURL→ブログカード変換機能
- Open Graphデータ取得
- キャッシュ機能
- レスポンシブデザイン
